<div class="flex flex-wrap -mx-3">
  <div class="w-full md:w-1/2 px-3">
    <h2 class="text-start text-xl font-semibold leading-none pb-2"><%= t('.title') %></h2>

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>

      <div class="flex flex-wrap -mx-3">
        <div class="w-full px-3">
          <%= f.label :email, t('.email'), class: "block tracking-wide font-semibold mb-2" %>
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 focus:border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" %>
        </div>
      </div>

      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
      <% end %>

      <div class="flex flex-wrap -mx-3">
        <div class="w-full px-3">          
          <%= f.label :password, t('.new_password'), class: "block tracking-wide font-semibold" %> <i>(<%= t('.new_password_blank') %>)</i>
          <% if @minimum_password_length %>
            <% placeholder_new_pasword = @minimum_password_length.to_s + " " + t('.characters_min') %>
          <% else %>
            <% placeholder_new_pasword = '' %>
          <% end %>
          <%= f.password_field :password, autocomplete: "new-password", placeholder: placeholder_new_pasword, class: "appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 focus:border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" %>
        </div>
      </div>

      <div class="flex flex-wrap -mx-3">
        <div class="w-full px-3">
          <%= f.label :password_confirmation, t('.new_password_confirmation'), class: "block tracking-wide font-semibold mb-2" %>
          <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 focus:border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" %>
        </div>
      </div>

      <div class="flex flex-wrap -mx-3">
        <div class="w-full px-3">
          <%= f.label :current_password, t('.current_password'), class: "block tracking-wide font-semibold" %> <i>(<%= t('.current_password_confirmation') %>)</i>
          <%= f.password_field :current_password, autocomplete: "current-password", class: "appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 focus:border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" %>
        </div>
      </div>

      <div class="flex items-center justify-between py-2">
        <%= f.submit t('.update'), class: "cursor-pointer bg-gray-300 hover:bg-gray-400 px-3 py-1 font-medium hover:text-gray-800 rounded-full shadow" %>
      </div>
    <% end %>
  </div>

  <% unless current_user.admin? %>
    <div class="w-full md:w-1/2 px-3">
      <h2 class="text-start text-xl text-gray-700 font-semibold leading-none pb-2"><%= t('.title_delete') %></h2>

      <div class="py-2" data-turbo="true">
        <%= t('.unhappy') %>
        <%= button_to t('.delete_account'), registration_path(resource_name), data: { confirm: t('.delete_confirm'), turbo_confirm: t('.delete_confirm') }, method: :delete, class: "cursor-pointer bg-gray-300 hover:bg-gray-400 px-3 py-1 font-medium text-gray-700 hover:text-gray-800 rounded-full shadow", form: {style: 'display:inline-block;'} %>
      </div>
    </div>
  <% end %>
</div>
